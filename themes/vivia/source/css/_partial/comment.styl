// Valine
.comment-card
  @extend $card
  padding: article-top-padding article-side-padding 0 article-side-padding
  *
    transition: none
  .title-bar
    margin-bottom: 24px
  .main-title
    @extend $main-title
  #vcomments
    margin-top: 16px
  .vimg
    border-radius: inner-radius !important
    border: none !important
  .vat
    color: var(--primary) !important
  .vwrap
    padding: 0 !important
    border: none !important
  .item3
    display: flex !important
    gap: 12px !important
    margin-bottom: 12px !important
    input
      background: var(--input-field) !important
      border-radius: inner-radius !important
      padding-left: 16px !important
      border-bottom: none !important
  .vedit
    background: var(--input-field) !important
    border-radius: inner-radius !important
    padding: 16px !important
    margin-bottom: 12px !important
    transition: background trans-style
  .vinput
    font-size: 14px !important
    color: var(--neut-L75) !important
    transition: background trans-style
  ::placeholder
    color: var(--neut-L30)
  svg
    path
      fill: var(--primary)
  .vsubmit
    height: 32px
    min-width: 80px
    border: none !important
    background: var(--primary-btn-bg) !important
    color: var(--primary-btn-text) !important
    border-radius: inner-radius !important
    font-size: 14px !important
    font-weight: bold !important
  .vrow
    padding: 0 !important
  .vcount
    color: var(--neut-L50) !important
  .vhead
    .vnick
      color: var(--neut-L90) !important
      &:hover
        color: var(--primary) !important
  .vcontent
    p
      color: var(--neut-L75) !important  
  a
    &:hover
      color: var(--primary) !important
  .vquote
    border-left: none !important
  .vpower
    font-size: 14px !important
    padding: 0 !important
    padding-bottom: 24px !important
    line-height: 14px !important
    a
      font-size: 14px !important
      color: var(--link) !important
  .vh
    border-bottom: none !important
  .vcard
    padding-top: 8px !important
  .vemojis
    margin-top: 12px !important
  .vempty
    color: var(--neut-L30) !important
//Twikoo
//修复文字颜色
.el-input-group__prepend
.tk-comments-count
.tk-nick.tk-nick-link
.tk-time
.tk-content
.el-input__count
.el-button.tk-preview.el-button--default.el-button--small
.el-button.tk-cancel.el-button--default.el-button--small
.el-input__inner
.tk-input.el-textarea
.tk-preview-container
.tk-actions
.tk-comments-no
  color: var(--neut-L90) !important
//修复排版问题
.tk-admin-comment-filter-type
  text-align: center
.tk-footer
  padding-bottom: 2em
// 修复图片出框
.tk-content img
  max-width: 100% !important
// 修复过长文本出框
.tk-content pre
  white-space: pre-wrap
  word-wrap: break-word
// 优化超链接配色
.tk-footer
  a
    color: var(--link) !important
// 头像宽度调整 rem 单位与全局字体大小挂钩
.tk-replies .tk-avatar
  width: 2.5rem !important
  height: 2.5rem !important
.tk-replies .tk-avatar img
  width: 2.5rem !important
  height: 2.5rem !important
// 回复框左移，避免窄屏时出框
.tk-comments-container .tk-submit
  position: relative
  left: -70px

// Gitalk 评论样式 - 使用 Vivia 主题原生风格
.gt-container
  margin-top: 32px
  padding: 0 article-side-padding
  color: var(--neut-L90) !important
  @media mq-mobile
    padding: 0 mobile-article-side-padding

  // 头部区域 - 使用卡片样式
  .gt-header
    @extend $card
    padding: 24px
    margin-bottom: block-margin

  // 头像
  .gt-avatar
    img
      border-radius: 50%
      width: 44px
      height: 44px

  // 输入框区域
  .gt-header-textarea
    background: var(--input-field) !important
    border: none !important
    border-radius: inner-radius !important
    padding: 16px !important
    color: var(--neut-L90) !important
    font-size: 14px !important
    line-height: 1.6 !important
    min-height: 100px !important
    transition: background trans-style !important

    &::placeholder
      color: var(--neut-L30) !important

  // 预览区域
  .gt-header-preview
    background: var(--input-field) !important
    border-radius: inner-radius !important
    padding: 16px !important
    color: var(--neut-L90) !important

  // 按钮使用主题样式
  .gt-btn
    @extend $text-btn
    border: none !important

  .gt-btn-public
  .gt-btn-login
    background: var(--primary-btn-bg) !important
    color: var(--primary-btn-text) !important

    &:hover
      filter: brightness(1.1)

  // 隐藏 Markdown 提示链接
  .gt-header-controls-tip
    display: none !important

  // 评论列表
  .gt-comments
    margin-top: block-margin

  // 单条评论 - 使用卡片样式
  .gt-comment
    @extend $card
    padding: 20px 24px !important
    margin-bottom: block-margin !important
    border-top: none !important
    position: relative !important

    &:first-child
      margin-top: 0 !important

  .gt-comment-content
    background: transparent !important
    box-shadow: none !important
    margin-left: 70px !important

  // 评论头像样式 - 方形头像，下移并放大
  .gt-comment-avatar
    position: absolute !important
    top: 28px !important
    left: 24px !important
    width: 56px !important
    height: 56px !important

    img
      width: 56px !important
      height: 56px !important
      border-radius: inner-radius !important

  .gt-comment-header
    color: var(--neut-L75) !important
    font-size: 14px !important
    margin-bottom: 8px !important
    display: flex !important
    align-items: center !important

    .gt-comment-block-1
      display: none !important

    .gt-comment-username
      color: var(--primary) !important
      font-weight: 600 !important
      margin-right: 8px !important
      text-decoration: none !important
      pointer-events: none !important
      line-height: 1.5 !important

    .gt-comment-text
      margin-right: 8px !important
      color: var(--neut-L75) !important
      line-height: 1.5 !important

    .gt-comment-date
      color: var(--neut-L75) !important
      margin-right: auto !important
      line-height: 1.5 !important

  .gt-comment-text
    color: var(--neut-L75) !important
    font-size: 14px !important
    line-height: 1.6 !important

  .gt-comment-body
    color: var(--neut-L90) !important
    font-size: 14px !important
    line-height: 1.8 !important

    h1, h2, h3, h4, h5, h6
      color: var(--neut-L90) !important

    p
      color: var(--neut-L90) !important
      margin: 0 0 12px 0 !important

      &:last-child
        margin-bottom: 0 !important

  // 回复和点赞按钮 - 同一水平线显示，带边框，正方形
  .gt-comment-edit
  .gt-comment-reply
    @extend $text-btn
    color: var(--primary) !important
    width: 36px !important
    height: 36px !important
    padding: 0 !important
    border: 1px solid var(--neut-L20) !important
    border-radius: inner-radius !important
    display: inline-flex !important
    align-items: center !important
    justify-content: center !important

    .gt-ico
      display: flex !important
      align-items: center !important
      justify-content: center !important

    .gt-svg
      width: 18px !important
      height: 18px !important
      display: flex !important
      align-items: center !important
      justify-content: center !important

    svg
      width: 18px !important
      height: 18px !important

  .gt-comment-like
    color: var(--neut-L75) !important
    margin-right: 12px !important
    width: 36px !important
    height: 36px !important
    padding: 0 !important
    display: inline-flex !important
    align-items: center !important
    justify-content: center !important
    border: 1px solid var(--neut-L20) !important
    border-radius: inner-radius !important

    .gt-ico
      display: flex !important
      align-items: center !important
      justify-content: center !important
      width: 100% !important
      height: 100% !important

    .gt-svg
      width: 18px !important
      height: 18px !important
      display: flex !important
      align-items: center !important
      justify-content: center !important

    svg
      width: 18px !important
      height: 18px !important

    &:hover
      color: var(--primary) !important
      border-color: var(--primary) !important

  // 链接使用主题样式
  .gt-link
    color: var(--link) !important
    border-bottom: none !important

    &:hover
      background: var(--link-hover-bg) !important

  .gt-link-counts
  .gt-link-project
    color: var(--primary) !important

  // 图标
  .gt-svg svg
    fill: var(--primary) !important

  .gt-ico-text
    color: var(--neut-L75) !important
    font-size: 14px !important

  // 弹出层 - 使用卡片样式
  .gt-popup
    @extend $card
    border: none !important
    padding: 16px !important

  // 版权信息
  .gt-copyright
    margin-top: 32px !important
    padding-top: 16px !important
    border-top: 1px solid var(--neut-L10) !important
    font-size: 14px !important
    color: var(--neut-L75) !important
    text-align: center !important

    a
      color: var(--link) !important

  // 加载状态
  .gt-loading
    color: var(--neut-L90) !important
    font-size: 14px !important
    padding: 40px 0 !important
    text-align: center !important

  // 未初始化状态 - 使用卡片样式
  .gt-no-init
    @extend $card
    padding: 48px 24px !important
    text-align: center !important

    p
      margin: 0 0 12px 0 !important
      font-size: 14px !important
      color: var(--neut-L75) !important

    a
      color: var(--link) !important

  // 元信息
  .gt-meta
    margin-bottom: 24px !important

  .gt-counts
    color: var(--neut-L75) !important
    font-size: 14px !important

  // 分页
  .gt-pagination
    margin-top: 32px !important
    display: flex !important
    justify-content: center !important
    gap: 8px !important

    .gt-btn-page
      @extend $text-btn
      min-width: 36px !important
      padding: 0 !important

    .gt-current
      background: var(--primary) !important
      color: var(--primary-btn-text) !important

  // 表情选择器
  .gt-emoji-picker
    @extend $card
    border: none !important
    padding: 12px !important

  .gt-emoji-picker-item
    &:hover
      background: var(--btn-hover) !important
      border-radius: 4px !important

  // 用户相关 - 隐藏登录后的用户信息，保持 UI 统一
  .gt-user
    display: none !important

  // 隐藏 GitHub 头像按钮
  .gt-avatar-github
    display: none !important

  // 统一管理员/自己的评论样式与普通评论一致
  .gt-comment-admin
    .gt-comment-content
      background: transparent !important
      box-shadow: none !important

  // 错误提示
  .gt-error
    color: #ff6b6b !important
    text-align: center !important
    padding: 20px !important
